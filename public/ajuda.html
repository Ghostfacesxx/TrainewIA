<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ajuda - Trainew IA</title>
    <link rel="icon" href="img/favicon.png" type="image/png">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/inicio.css">
    <link rel="stylesheet" href="../css/dark-theme.css">
    <link rel="stylesheet" href="../css/accessibility.css">
    <script src="../js/theme-manager.js"></script>
    <script src="../js/font-manager.js"></script>

    <script>
        // Verificar se o usu√°rio est√° logado (opcional para ajuda)
        // AuthManager.requireAuth(); // Descomente se quiser que ajuda seja privado
        
        // Inicializa os modais ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Modal Menu
            document.querySelector('.header-item.menu').addEventListener('click', function() {
                document.getElementById('menu-modal-bg').style.display = 'block';
            });
            document.getElementById('menu-modal-bg').addEventListener('click', function(e) {
                if (e.target.id === 'menu-modal-bg') {
                    this.style.display = 'none';
                }
            });

            // Modal Perfil
            document.getElementById('perfil-btn').addEventListener('click', showPerfilModal);
            document.getElementById('perfil-modal-bg').addEventListener('click', hidePerfilModal);
            
            // FAQ Toggle
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    const isOpen = answer.style.display === 'block';
                    
                    // Fechar todas as respostas
                    document.querySelectorAll('.faq-answer').forEach(ans => {
                        ans.style.display = 'none';
                    });
                    document.querySelectorAll('.faq-question').forEach(q => {
                        q.classList.remove('active');
                    });
                    
                    // Abrir/fechar a resposta clicada
                    if (!isOpen) {
                        answer.style.display = 'block';
                        this.classList.add('active');
                    }
                });
            });
        });
    </script>
</head>

<body>
    <header class="header">
        <img onclick="window.location.href='inicio.html'" src="img/logo.png" alt="Logo Trainew IA" class="logo" style="cursor: pointer;">
        <nav class="header-nav">
            <div class="header-item menu">
                <span class="menu-icon">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </span>
                <span class="item-label">Menu</span>
            </div>
            <div onclick="window.location.href='chat.html'" class="header-item chat">
                <img src="img/icon-ia.png" class="chat-icon">
                <span class="item-label">Chat IA</span>
            </div>
            <div class="header-item perfil" id="perfil-btn">
                <img src="img/icon.png" class="perfil-icon" id="header-perfil-icon">
                <span class="item-label">Perfil</span>
            </div>
        </nav>
    </header>

    <main style="padding: 20px; max-width: 1200px; margin: 0 auto;">
        <h1 style="text-align: center; color: var(--text-color, #333); margin-bottom: 10px;">üìö Central de Ajuda</h1>
        <p style="text-align: center; color: var(--text-secondary, #666); margin-bottom: 30px;">Encontre respostas e aprenda a usar todas as funcionalidades</p>
        
        <!-- Barra de Pesquisa -->
        <div class="search-container">
            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input 
                    type="text" 
                    id="help-search" 
                    class="search-input" 
                    placeholder="Pesquisar na ajuda... (ex: como gerar treino, cardio, chat)"
                    autocomplete="off"
                >
                <button class="search-clear" id="clear-search" style="display: none;">‚úï</button>
            </div>
            <div id="search-results" class="search-results" style="display: none;"></div>
        </div>

        <!-- √çndice de T√≥picos -->
        <div class="topics-index">
            <h3 style="color: var(--text-color); margin-bottom: 15px;">üìã T√≥picos R√°pidos</h3>
            <div class="topics-grid">
                <a href="#treinos" class="topic-link">üí™ Treinos</a>
                <a href="#chat-treino" class="topic-link">üí¨ Chat de Treinos</a>
                <a href="#cardio" class="topic-link">üèÉ Cardio</a>
                <a href="#dieta" class="topic-link">ü•ó Dieta</a>
                <a href="#chat-ia" class="topic-link">ü§ñ Chat IA</a>
                <a href="#alimentacao" class="topic-link">üì∏ Alimenta√ß√£o</a>
                <a href="#perfil" class="topic-link">üë§ Perfil</a>
                <a href="#config" class="topic-link">‚öôÔ∏è Configura√ß√µes</a>
            </div>
        </div>

        <!-- Se√ß√£o: Treinos -->
        <section class="help-section" id="treinos">
            <h2 class="section-title">üí™ Treinos</h2>
            
            <div class="feature-detail">
                <h3>Como gerar treino</h3>
                <p><strong>1.</strong> V√° para o Chat IA<br>
                <strong>2.</strong> Digite: "Gerar treino de 3 dias para academia, intermedi√°rio"<br>
                <strong>3.</strong> Clique em "üíæ Salvar este treino"<br>
                <strong>4.</strong> Acesse na p√°gina de Treinos</p>
                
                <p style="margin-top: 15px;"><strong>üí° Pode informar:</strong> dias/semana (2-6), local (academia/casa), n√≠vel (iniciante/intermedi√°rio/avan√ßado)</p>
            </div>
        </section>

        <!-- Se√ß√£o: Chat de Treinos -->
        <section class="help-section" id="chat-treino">
            <h2 class="section-title">üí¨ Chat de Treinos</h2>
            
            <div class="feature-detail">
                <p>Clique no <strong>bot√£o üí¨</strong> (canto direito) na p√°gina de Treinos para editar exerc√≠cios com IA.</p>
                <p style="margin-top: 10px;"><strong>Exemplos:</strong> "Trocar supino por flex√£o" ‚Ä¢ "Adicionar rosca na segunda" ‚Ä¢ "Mudar para 4 s√©ries"</p>
            </div>
        </section>

        <!-- Se√ß√£o: Cardio -->
        <section class="help-section" id="cardio">
            <h2 class="section-title">üèÉ Cardio</h2>
            
            <div class="feature-detail">
                <p>Clique no <strong>bot√£o "üèÉ Cardio"</strong> (canto esquerdo) na p√°gina de Treinos para acessar exerc√≠cios cardiovasculares de academia e casa.</p>
            </div>
        </section>

        <!-- Se√ß√£o: Dieta -->
        <section class="help-section" id="dieta">
            <h2 class="section-title">ü•ó Dieta</h2>
            
            <div class="feature-detail">
                <p>No Chat IA, digite: "Gerar dieta para ganhar massa, 2500 calorias". Informe objetivo, calorias e restri√ß√µes. Ser√° salva na p√°gina Dieta.</p>
            </div>
        </section>

        <!-- Se√ß√£o: Chat IA -->
        <section class="help-section" id="chat-ia">
            <h2 class="section-title">ü§ñ Chat IA</h2>
            
            <div class="feature-detail">
                <p>Assistente de fitness: gere treinos, dietas, tire d√∫vidas e receba dicas.</p>
                <p style="margin-top: 10px;"><strong>Exemplos:</strong> "Gerar treino 4 dias hipertrofia" ‚Ä¢ "Dieta emagrecer 5kg" ‚Ä¢ "Como fazer supino?"</p>
            </div>
        </section>

        <!-- Se√ß√£o: Alimenta√ß√£o -->
        <section class="help-section" id="alimentacao">
            <h2 class="section-title">üì∏ Alimenta√ß√£o</h2>
            
            <div class="feature-detail">
                <p>Tire foto da refei√ß√£o usando a c√¢mera ou escolha da galeria. Clique em "Analisar" para receber informa√ß√µes de calorias, macronutrientes e dicas. Hist√≥rico salvo automaticamente.</p>
                <p style="margin-top: 10px;"><strong>üí° Dica:</strong> Use boa ilumina√ß√£o e enquadre toda a refei√ß√£o.</p>
            </div>
        </section>

        <!-- Se√ß√£o: Perfil -->
        <section class="help-section" id="perfil">
            <h2 class="section-title">üë§ Perfil</h2>
            
            <div class="feature-detail">
                <p>Clique no <strong>√≠cone de perfil</strong> (topo direito) para alterar foto, nome ou sair da conta.</p>
            </div>
        </section>        <!-- Se√ß√£o: Configura√ß√µes -->
        <section class="help-section" id="config">
            <h2 class="section-title">‚öôÔ∏è Configura√ß√µes</h2>
            
            <div class="feature-detail">
                <p>Acesse via <strong>Perfil > Configura√ß√µes</strong> para ativar modo escuro e ajustar tamanho da fonte (5 n√≠veis).</p>
            </div>
        </section>

        <!-- Se√ß√£o: FAQ -->
        <section class="help-section">
            <h2 class="section-title">‚ùì Perguntas Frequentes (FAQ)</h2>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Como funciona a IA do Trainew?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Nossa IA analisa suas informa√ß√µes pessoais, objetivos e prefer√™ncias para criar treinos e dietas personalizados. Ela usa tecnologia avan√ßada de machine learning para fornecer recomenda√ß√µes precisas e eficazes.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Os treinos s√£o adequados para iniciantes?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim! A IA adapta os treinos ao seu n√≠vel de condicionamento f√≠sico. Informe se voc√™ √© iniciante, intermedi√°rio ou avan√ßado, e receber√° exerc√≠cios apropriados para sua condi√ß√£o.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Posso usar o app offline?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Os treinos e dietas salvos podem ser visualizados offline. Por√©m, para gerar novos conte√∫dos com a IA, √© necess√°ria conex√£o com a internet.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Como ativar o modo escuro?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Acesse o menu Perfil > Configura√ß√µes e ative o "Modo Escuro". Suas prefer√™ncias ser√£o salvas automaticamente.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Meus dados est√£o seguros?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim! Utilizamos criptografia avan√ßada e seguimos as melhores pr√°ticas de seguran√ßa. Seus dados pessoais s√£o protegidos e nunca compartilhados com terceiros.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Como alterar minha foto de perfil?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Clique no √≠cone de perfil no header, depois em "Alterar foto de perfil". Selecione uma imagem do seu dispositivo e ela ser√° salva automaticamente.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Como ajustar o tamanho da fonte? ‚ôø</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p><strong>Para melhorar a acessibilidade:</strong></p>
                        <ol style="margin-top: 10px; padding-left: 20px; line-height: 1.8;">
                            <li>Acesse <strong>Perfil > Configura√ß√µes</strong></li>
                            <li>Role at√© a se√ß√£o <strong>"‚ôø Acessibilidade"</strong></li>
                            <li>Use os bot√µes <strong>A-</strong> (diminuir) ou <strong>A+</strong> (aumentar)</li>
                            <li>Ou arraste o <strong>slider</strong> para o tamanho desejado</li>
                            <li>Escolha entre 5 n√≠veis: Muito Pequeno, Pequeno, Normal, Grande, Muito Grande</li>
                        </ol>
                        <p style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9em;">
                            üí° <em>Sua prefer√™ncia ser√° salva e aplicada em todas as p√°ginas do app automaticamente!</em>
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>A an√°lise nutricional por foto √© precisa?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim! Utilizamos a tecnologia GPT-4 Vision da OpenAI, que √© treinada para identificar alimentos e estimar valores nutricionais com alta precis√£o. No entanto, os valores s√£o aproximados e devem ser usados como refer√™ncia. Para informa√ß√µes exatas, consulte embalagens ou um nutricionista.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Minhas fotos de refei√ß√µes ficam salvas?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim, as √∫ltimas 10 an√°lises ficam salvas localmente no seu navegador. Voc√™ pode acess√°-las a qualquer momento atrav√©s do hist√≥rico na p√°gina de Alimenta√ß√£o. As imagens s√£o armazenadas apenas no seu dispositivo.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Posso cancelar minha conta?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p><strong>Sair da sess√£o:</strong> Voc√™ pode sair da sua conta a qualquer momento atrav√©s do menu Perfil > Sair. Seus dados permanecer√£o salvos e voc√™ poder√° acess√°-los novamente ao fazer login.</p>
                        <p><strong>Excluir permanentemente:</strong> Para excluir sua conta de forma permanente, acesse Configura√ß√µes > Excluir Minha Conta. Voc√™ precisar√° digitar sua senha para confirmar.</p>
                        <p style="color: #c62828; font-weight: 600; margin-top: 10px;">‚ö†Ô∏è Aten√ß√£o: A exclus√£o da conta √© irrevers√≠vel! Todos os seus dados ser√£o perdidos permanentemente, incluindo:</p>
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>Hist√≥rico de conversas com a IA</li>
                            <li>Planos de treino personalizados</li>
                            <li>Planos de dieta personalizados</li>
                            <li>Hist√≥rico de an√°lises de alimenta√ß√£o</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span>Meus dados ficam salvos ap√≥s sair?</span>
                        <span class="faq-arrow">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>Sim! Quando voc√™ clica em "Sair", seus dados permanecem salvos de forma segura. Ao fazer login novamente, voc√™ ter√° acesso a:</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>‚úÖ Todo o hist√≥rico de conversas</li>
                            <li>‚úÖ Seus planos de treino</li>
                            <li>‚úÖ Seus planos de dieta</li>
                            <li>‚úÖ An√°lises de alimenta√ß√£o anteriores</li>
                        </ul>
                        <p style="margin-top: 10px;">Cada usu√°rio tem seus pr√≥prios dados isolados, garantindo privacidade e seguran√ßa.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o: Contato -->
        <section class="help-section">
            <h2 class="section-title">üìû Entre em Contato</h2>
            
            <div class="contact-grid">
                <div class="contact-card">
                    <div class="contact-icon">üìß</div>
                    <h3>Email</h3>
                    <p>suporte@trainewia.com</p>
                    <p class="contact-description">Resposta em at√© 24 horas</p>
                </div>
                
                <div class="contact-card">
                    <div class="contact-icon">üí¨</div>
                    <h3>WhatsApp</h3>
                    <p>+55 (11) 99999-9999</p>
                    <p class="contact-description">Atendimento: Seg-Sex, 9h √†s 18h</p>
                </div>
                
                <div class="contact-card">
                    <div class="contact-icon">üì±</div>
                    <h3>Telegram</h3>
                    <p>@trainewia_suporte</p>
                    <p class="contact-description">Suporte t√©cnico r√°pido</p>
                </div>
                
                <div class="contact-card">
                    <div class="contact-icon">üåê</div>
                    <h3>Site</h3>
                    <p>www.trainewia.com</p>
                    <p class="contact-description">Mais informa√ß√µes e tutoriais</p>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o: Dicas R√°pidas -->
        <section class="help-section">
            <h2 class="section-title">üí° Dicas R√°pidas</h2>
            
            <div class="tips-container">
                <div class="tip-item">
                    <span class="tip-icon">üéØ</span>
                    <span class="tip-text">Seja espec√≠fico ao conversar com a IA para receber recomenda√ß√µes mais precisas</span>
                </div>
                
                <div class="tip-item">
                    <span class="tip-icon">üìÖ</span>
                    <span class="tip-text">Atualize regularmente suas informa√ß√µes de peso e medidas para treinos otimizados</span>
                </div>
                
                <div class="tip-item">
                    <span class="tip-icon">üíß</span>
                    <span class="tip-text">Sempre mantenha-se hidratado durante os exerc√≠cios</span>
                </div>
                
                <div class="tip-item">
                    <span class="tip-icon">üò¥</span>
                    <span class="tip-text">O descanso √© fundamental - respeite os dias de pausa sugeridos</span>
                </div>
                
                <div class="tip-item">
                    <span class="tip-icon">üìä</span>
                    <span class="tip-text">Acompanhe seu progresso regularmente para melhores resultados</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal Perfil -->
    <div class="perfil-modal-bg" id="perfil-modal-bg" style="display:none;">
        <div class="perfil-modal" id="perfil-modal">
            <div class="perfil-modal-header">Conta</div>
            <div class="perfil-modal-user">
                <span class="perfil-modal-user-icon" id="perfil-user-icon">
                    <img src="img/icon.png" alt="Perfil" id="perfil-img" style="cursor:pointer;">
                </span>
                <div class="perfil-modal-user-info">
                    <span class="perfil-modal-user-nome" id="perfil-nome"></span>
                    <span class="perfil-modal-user-email" id="perfil-email"></span>
                </div>
            </div>
            <hr class="perfil-modal-divider">
            <div class="perfil-modal-list">
                <div class="perfil-modal-item" id="alterar-foto-btn">Alterar foto de perfil
                    <input type="file" id="foto-input" accept="image/*" style="display:none;">
                </div>
                <div class="perfil-modal-item" id="alterar-nome-btn">Alterar nome</div>
                <div class="perfil-modal-item" onclick="window.location.href='config.html'">Configura√ß√µes</div>
                <div class="perfil-modal-item" onclick="window.location.href='ajuda.html'" style="background: var(--accent-color, #ff6347); color: white; font-weight: 600;">Ajuda</div>
                <div class="perfil-modal-item" id="sair-btn" style="color:#c00;font-weight:600;">Sair</div>
            </div>
        </div>
    </div>

    <!-- Modal Menu Lateral -->
    <div class="menu-modal-bg" id="menu-modal-bg" style="display:none;">
        <div class="menu-modal" id="menu-modal">
            <div class="menu-modal-header">
                <span>Menu</span>
            </div>
            <hr class="menu-modal-divider">
            <div class="menu-modal-list">
                <div onclick="window.location.href='chat.html'" class="menu-modal-item">Chat IA</div>
                <div onclick="window.location.href='treino.html'" class="menu-modal-item">Treinos</div>
                <div onclick="window.location.href='dieta.html'" class="menu-modal-item">Dieta</div>
                <div onclick="window.location.href='alimentacao.html'" class="menu-modal-item">Alimenta√ß√£o</div>
                <div onclick="window.location.href='avaliacao.html'" class="menu-modal-item">Execu√ß√£o</div>
                <div onclick="window.location.href='sobre.html'" class="menu-modal-item">Sobre n√≥s</div>
                <div onclick="window.location.href='ajuda.html'" class="menu-modal-item" style="background: var(--accent-color, #ff6347); color: white;">Ajuda</div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <hr class="footer-line">
    </footer>

    <script>
        // Inicializa o gerenciador de tema
        ThemeManager.init();

        // Atualiza a foto do header com a foto do usu√°rio logado
        function atualizarFotoHeader() {
            if (typeof AuthManager !== 'undefined') {
                const usuario = AuthManager.getLoggedUser();
                const headerIcon = document.getElementById('header-perfil-icon');
                if (usuario && usuario.fotoPerfil && headerIcon) {
                    headerIcon.src = usuario.fotoPerfil;
                }
            }
        }

        // Modal Perfil
        function showPerfilModal() {
            if (typeof AuthManager !== 'undefined') {
                const usuario = AuthManager.getLoggedUser();
                if (usuario) {
                    document.getElementById('perfil-nome').textContent = usuario.nome || '';
                    document.getElementById('perfil-email').textContent = usuario.email || '';
                    // Foto de perfil
                    const img = document.getElementById('perfil-img');
                    if (usuario.fotoPerfil) {
                        img.src = usuario.fotoPerfil;
                    } else {
                        img.src = "img/icon.png";
                    }
                }
            }
            document.getElementById('perfil-modal-bg').style.display = 'block';
        }
        
        function hidePerfilModal(e) {
            if (e.target.id === 'perfil-modal-bg') {
                document.getElementById('perfil-modal-bg').style.display = 'none';
            }
        }

        // Fun√ß√µes do perfil
        document.getElementById('alterar-foto-btn').addEventListener('click', function () {
            document.getElementById('foto-input').click();
        });

        document.getElementById('foto-input').addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (!file || typeof AuthManager === 'undefined') return;
            
            const reader = new FileReader();
            reader.onload = function (evt) {
                const fotoBase64 = evt.target.result;
                document.getElementById('perfil-img').src = fotoBase64;
                AuthManager.updateLoggedUser({ fotoPerfil: fotoBase64 });
                atualizarFotoHeader();
            };
            reader.readAsDataURL(file);
        });

        document.getElementById('alterar-nome-btn').addEventListener('click', function () {
            if (typeof AuthManager === 'undefined') return;
            
            const nomeSpan = document.getElementById('perfil-nome');
            if (nomeSpan.querySelector('input')) return;
            
            const usuario = AuthManager.getLoggedUser();
            const input = document.createElement('input');
            input.type = 'text';
            input.value = usuario ? usuario.nome || '' : '';
            input.style.fontSize = '15px';
            input.style.fontWeight = '600';
            input.style.borderRadius = '4px';
            input.style.padding = '2px 6px';
            input.style.width = '90%';
            input.maxLength = 32;
            
            // Aplica estilos baseados no tema atual
            applyThemeInputStyles(input);
            
            nomeSpan.textContent = '';
            nomeSpan.appendChild(input);
            input.focus();
            input.select();

            function salvarNome() {
                const novoNome = input.value.trim() || (usuario ? usuario.nome || '' : '');
                AuthManager.updateLoggedUser({ nome: novoNome });
                nomeSpan.textContent = novoNome;
            }

            input.addEventListener('keydown', function (ev) {
                if (ev.key === 'Enter') {
                    ev.preventDefault();
                    salvarNome();
                } else if (ev.key === 'Escape') {
                    nomeSpan.textContent = usuario ? usuario.nome || '' : '';
                }
            });
            input.addEventListener('blur', salvarNome);
        });

        document.getElementById('sair-btn').addEventListener('click', function () {
            if (typeof AuthManager !== 'undefined') {
                AuthManager.logout();
            } else {
                window.location.href = "index.html";
            }
        });

        // Chama atualizarFotoHeader ao carregar
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(atualizarFotoHeader, 100);
        });
    </script>

    <style>
        /* Estilos espec√≠ficos para a p√°gina de ajuda */
        body {
            background-color: var(--bg-color, #f5f5f5);
            color: var(--text-color, #333);
            transition: all 0.3s ease;
        }

        main {
            background-color: var(--bg-color, #f5f5f5);
        }

        .help-section {
            margin-bottom: 40px;
            background: var(--card-bg, #fff);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color, transparent);
        }

        .section-title {
            color: var(--primary-color, #ff6347);
            font-size: 24px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        /* Tutorial Grid */
        .tutorial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tutorial-card {
            background: var(--modal-bg, #f8f9fa);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid var(--border-color, transparent);
            transition: all 0.3s ease;
        }

        .tutorial-card:hover {
            border-color: var(--primary-color, #ff6347);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .tutorial-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .tutorial-card h3 {
            color: var(--text-color, #333);
            margin-bottom: 10px;
            font-size: 18px;
        }

        .tutorial-card p {
            color: var(--text-secondary, #666);
            line-height: 1.5;
        }

        /* Feature Detail Styles */
        .feature-detail {
            background: var(--card-bg, #fff);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .feature-detail h3 {
            color: var(--primary-color, #7A1919);
            font-size: 22px;
            margin-bottom: 15px;
        }

        .feature-detail p {
            color: var(--text-secondary, #666);
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .steps-list {
            margin-top: 30px;
        }

        .step-item {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            align-items: flex-start;
        }

        .step-number {
            background: var(--primary-color, #7A1919);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            flex-shrink: 0;
        }

        .step-content h4 {
            color: var(--text-color, #333);
            margin-bottom: 8px;
            font-size: 18px;
        }

        .step-content p {
            color: var(--text-secondary, #666);
            line-height: 1.6;
            margin-bottom: 0;
        }

        .step-content ul {
            color: var(--text-secondary, #666);
            line-height: 1.6;
        }

        /* FAQ Styles */
        .faq-container {
            max-width: 800px;
        }

        .faq-item {
            margin-bottom: 10px;
            border: 1px solid var(--border-color, #ddd);
            border-radius: 8px;
            overflow: hidden;
            background: var(--card-bg, #fff);
        }

        .faq-question {
            background: var(--modal-bg, #f8f9fa);
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--text-color, #333);
            transition: all 0.3s ease;
            border-bottom: 1px solid var(--border-color, transparent);
        }

        .faq-question:hover {
            background: var(--primary-color, #ff6347);
            color: white;
        }

        .faq-question.active {
            background: var(--primary-color, #ff6347);
            color: white;
        }

        .faq-arrow {
            transition: transform 0.3s ease;
        }

        .faq-question.active .faq-arrow {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 15px 20px;
            background: var(--card-bg, #fff);
            display: none;
            border-top: 1px solid var(--border-color, #ddd);
        }

        .faq-answer p {
            color: var(--text-secondary, #666);
            line-height: 1.6;
            margin: 0;
        }

        /* Contact Grid */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .contact-card {
            background: var(--modal-bg, #f8f9fa);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--primary-color, #ff6347);
            border: 1px solid var(--border-color, transparent);
        }

        .contact-icon {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .contact-card h3 {
            color: var(--text-color, #333);
            margin-bottom: 8px;
            font-size: 18px;
        }

        .contact-card p {
            color: var(--text-secondary, #666);
            margin: 5px 0;
        }

        .contact-description {
            font-size: 12px;
            color: var(--text-muted, #999) !important;
        }

        /* Tips Container */
        .tips-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tip-item {
            display: flex;
            align-items: center;
            background: var(--modal-bg, #f8f9fa);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color, #ff6347);
            border: 1px solid var(--border-color, transparent);
        }

        .tip-icon {
            font-size: 20px;
            margin-right: 15px;
            min-width: 30px;
        }

        .tip-text {
            color: var(--text-color, #333);
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            background: var(--card-bg, #fff);
            border-top: 1px solid var(--border-color, #ddd);
        }

        .footer-line {
            border-color: var(--border-color, #ddd);
        }

        /* Responsividade para modo escuro */
        [data-theme='dark'] .help-section {
            background: #1e1e1e;
            border: 1px solid #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        [data-theme='dark'] .tutorial-card {
            background: #252525;
            border: 1px solid #333;
        }

        [data-theme='dark'] .tutorial-card:hover {
            background: #2a2a2a;
            box-shadow: 0 6px 20px rgba(255,99,71,0.2);
            border-color: var(--primary-color);
        }

        /* Links e elementos clic√°veis */
        .perfil-modal-item[onclick*="ajuda.html"] {
            background: var(--primary-color, #ff6347) !important;
            color: white !important;
            font-weight: 600;
        }

        .menu-modal-item[onclick*="ajuda.html"] {
            background: var(--primary-color, #ff6347) !important;
            color: white !important;
        }

        /* Responsive */
        @media (max-width: 768px) {
            main {
                padding: 15px !important;
            }
            
            .tutorial-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-grid {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 20px;
            }

            .help-section {
                padding: 20px;
            }
        }

        /* Melhorias espec√≠ficas para modo escuro */
        [data-theme='dark'] h1 {
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        [data-theme='dark'] .section-title {
            color: #ff7961;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        [data-theme='dark'] h3,
        [data-theme='dark'] h4 {
            color: #e0e0e0;
        }

        [data-theme='dark'] p,
        [data-theme='dark'] li {
            color: #bbb;
            line-height: 1.7;
        }

        [data-theme='dark'] .contact-card {
            background: #252525;
            border: 1px solid #333;
        }

        [data-theme='dark'] .tip-item {
            background: #252525;
            border: 1px solid #333;
            border-left: 4px solid var(--primary-color);
        }

        [data-theme='dark'] .faq-item {
            background: #252525;
            border: 1px solid #333;
        }

        [data-theme='dark'] .faq-question {
            background: #2a2a2a;
            color: #e0e0e0;
        }

        [data-theme='dark'] .faq-answer {
            background: #1e1e1e;
            color: #bbb;
        }

        /* Barra de Pesquisa */
        .search-container {
            max-width: 800px;
            margin: 0 auto 40px;
            position: relative;
        }

        .search-box {
            position: relative;
            display: flex;
            align-items: center;
            background: white;
            border-radius: 30px;
            padding: 12px 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        [data-theme='dark'] .search-box {
            background: #252525;
            border: 1px solid #444;
            box-shadow: 0 4px 16px rgba(0,0,0,0.5);
        }

        [data-theme='dark'] .search-input {
            color: #e0e0e0;
        }

        [data-theme='dark'] .search-input::placeholder {
            color: #777;
        }

        .search-box:focus-within {
            box-shadow: 0 6px 20px rgba(122, 25, 25, 0.2);
            transform: translateY(-2px);
        }

        .search-icon {
            font-size: 20px;
            margin-right: 12px;
        }

        .search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 15px;
            background: transparent;
            color: var(--text-color);
        }

        .search-input::placeholder {
            color: #999;
        }

        .search-clear {
            background: none;
            border: none;
            color: #999;
            font-size: 20px;
            cursor: pointer;
            padding: 0 8px;
            transition: color 0.2s;
        }

        .search-clear:hover {
            color: var(--primary-color);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            margin-top: 10px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 100;
        }

        [data-theme='dark'] .search-results {
            background: #2a2a2a;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
        }

        .search-result-item {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }

        [data-theme='dark'] .search-result-item {
            border-bottom-color: #444;
        }

        .search-result-item:hover {
            background: #f8f9fa;
        }

        [data-theme='dark'] .search-result-item:hover {
            background: #333;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-title {
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .search-result-snippet {
            font-size: 14px;
            color: #666;
            line-height: 1.4;
        }

        [data-theme='dark'] .search-result-snippet {
            color: #999;
        }

        .search-highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }

        [data-theme='dark'] .search-highlight {
            background: #665700;
            color: #ffc107;
        }

        /* √çndice de T√≥picos */
        .topics-index {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        [data-theme='dark'] .topics-index {
            background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%);
            border: 1px solid #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
        }

        [data-theme='dark'] .topics-index h3 {
            color: #e0e0e0;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .topic-link {
            background: white;
            padding: 12px 16px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: all 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            text-align: center;
        }

        [data-theme='dark'] .topic-link {
            background: #252525;
            border: 1px solid #333;
            color: #e0e0e0;
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
        }

        .topic-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(255, 99, 71, 0.3);
            background: var(--primary-color);
            color: white;
        }

        [data-theme='dark'] .topic-link:hover {
            border-color: transparent;
            box-shadow: 0 6px 16px rgba(255, 99, 71, 0.4);
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #2196f3;
        }

        [data-theme='dark'] .info-box {
            background: linear-gradient(135deg, #1e3a4f 0%, #2d4a5f 100%);
            border: 1px solid #3d5a6f;
            border-left: 4px solid #64b5f6;
        }

        .info-box h4 {
            color: #1565c0;
            margin-top: 0;
            margin-bottom: 12px;
        }

        [data-theme='dark'] .info-box h4 {
            color: #90caf9;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .info-box ul {
            color: #1976d2;
            line-height: 1.8;
        }

        [data-theme='dark'] .info-box ul,
        [data-theme='dark'] .info-box li,
        [data-theme='dark'] .info-box p {
            color: #b3d9ff;
        }

        /* Examples Grid */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .example-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid var(--primary-color);
            font-style: italic;
            color: #555;
        }

        [data-theme='dark'] .example-card {
            background: #252525;
            border: 1px solid #333;
            border-left: 3px solid var(--primary-color);
            color: #ccc;
        }

        @media (max-width: 768px) {
            .topics-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 8px;
            }

            .examples-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <script>
        // Sistema de pesquisa
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('help-search');
            const searchResults = document.getElementById('search-results');
            const clearBtn = document.getElementById('clear-search');

            // Conte√∫do indexado para busca
            const searchIndex = [
                { title: 'Gerar treino personalizado', section: 'treinos', keywords: ['treino', 'gerar', 'criar', 'montar', 'personalizado', 'IA', 'dias', 'semana'], snippet: 'Pe√ßa no Chat IA para gerar treino com dias, local e n√≠vel.' },
                { title: 'Chat de Treinos - Editar exerc√≠cios', section: 'chat-treino', keywords: ['chat', 'treinos', 'editar', 'trocar', 'substituir', 'exercicio', 'alterar', 'modificar'], snippet: 'Use o Chat de Treinos para trocar exerc√≠cios, adicionar ou remover.' },
                { title: 'Exerc√≠cios de Cardio', section: 'cardio', keywords: ['cardio', 'cardiovascular', 'corrida', 'esteira', 'bicicleta', 'aerobico'], snippet: 'Acesse exerc√≠cios de cardio pelo bot√£o laranja na p√°gina de Treinos.' },
                { title: 'Executar exerc√≠cios', section: 'treinos', keywords: ['executar', 'fazer', 'treinar', 'series', 'repeticoes', 'gif', 'demonstracao'], snippet: 'Clique em um exerc√≠cio para ver o GIF e acompanhar suas s√©ries.' },
                { title: 'Gerar dieta', section: 'dieta', keywords: ['dieta', 'alimentacao', 'nutri√ß√£o', 'gerar', 'criar', 'calorias', 'emagrecer', 'massa'], snippet: 'Pe√ßa no Chat IA para gerar dieta com objetivo e calorias.' },
                { title: 'An√°lise nutricional com foto', section: 'alimentacao', keywords: ['alimentacao', 'foto', 'camera', 'analisar', 'refeicao', 'calorias', 'nutrientes'], snippet: 'Tire foto da refei√ß√£o e receba an√°lise completa de calorias e nutrientes.' },
                { title: 'Modo escuro', section: 'config', keywords: ['modo', 'escuro', 'dark', 'tema', 'visual', 'noite'], snippet: 'Ative em Perfil > Configura√ß√µes > Modo Escuro.' },
                { title: 'Tamanho da fonte', section: 'config', keywords: ['fonte', 'tamanho', 'texto', 'acessibilidade', 'aumentar', 'diminuir', 'letra'], snippet: 'Ajuste em Perfil > Configura√ß√µes > Acessibilidade.' },
                { title: 'Alterar foto de perfil', section: 'perfil', keywords: ['foto', 'perfil', 'imagem', 'avatar', 'alterar', 'trocar'], snippet: 'Clique no perfil > Alterar foto de perfil.' },
                { title: 'Conversar com IA', section: 'chat-ia', keywords: ['chat', 'IA', 'conversar', 'perguntar', 'duvida', 'assistente'], snippet: 'Tire d√∫vidas e pe√ßa orienta√ß√µes sobre treinos e nutri√ß√£o.' },
            ];

            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    searchResults.style.display = 'none';
                    clearBtn.style.display = 'none';
                    return;
                }

                clearBtn.style.display = 'block';

                // Buscar nos √≠ndices
                const results = searchIndex.filter(item => {
                    return item.title.toLowerCase().includes(query) ||
                           item.keywords.some(keyword => keyword.includes(query)) ||
                           item.snippet.toLowerCase().includes(query);
                });

                if (results.length > 0) {
                    let html = '';
                    results.forEach(result => {
                        const highlightedTitle = result.title.replace(
                            new RegExp(query, 'gi'),
                            match => `<span class="search-highlight">${match}</span>`
                        );
                        const highlightedSnippet = result.snippet.replace(
                            new RegExp(query, 'gi'),
                            match => `<span class="search-highlight">${match}</span>`
                        );
                        
                        html += `
                            <div class="search-result-item" onclick="location.hash='${result.section}'; document.getElementById('search-results').style.display='none';">
                                <div class="search-result-title">${highlightedTitle}</div>
                                <div class="search-result-snippet">${highlightedSnippet}</div>
                            </div>
                        `;
                    });
                    searchResults.innerHTML = html;
                    searchResults.style.display = 'block';
                } else {
                    searchResults.innerHTML = `
                        <div class="search-result-item">
                            <div class="search-result-title">Nenhum resultado encontrado</div>
                            <div class="search-result-snippet">Tente usar palavras-chave diferentes</div>
                        </div>
                    `;
                    searchResults.style.display = 'block';
                }
            });

            clearBtn.addEventListener('click', function() {
                searchInput.value = '';
                searchResults.style.display = 'none';
                this.style.display = 'none';
                searchInput.focus();
            });

            // Fechar resultados ao clicar fora
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-container')) {
                    searchResults.style.display = 'none';
                }
            });
        });
    </script>
</body>

</html>
