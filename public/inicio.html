<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trainew IA</title>
  <link rel="icon" href="img/favicon.png" type="image/png">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/inicio.css">
    <link rel="stylesheet" href="../css/dark-theme.css">
    <link rel="stylesheet" href="../css/accessibility.css">
    <script src="../js/theme-manager.js"></script>
    <script src="../js/font-manager.js"></script>

    <script>
        // Verificar se o usu√°rio est√° logado
        window.addEventListener('DOMContentLoaded', function() {
            console.log('üîç DOMContentLoaded - Verificando autentica√ß√£o...');
            console.log('üõ†Ô∏è AuthManager dispon√≠vel:', typeof AuthManager !== 'undefined');
            
            if (typeof AuthManager === 'undefined') {
                console.error('‚ùå AuthManager n√£o est√° dispon√≠vel! Verifique se theme-manager.js foi carregado.');
                return;
            }
            
            // TEMPORARIAMENTE COMENTANDO A VERIFICA√á√ÉO DE AUTH
            // if (!AuthManager.requireAuth()) {
            //     return;
            // }
            
            // Criar usu√°rio de teste se n√£o existir
            let usuarioLogado = AuthManager.getLoggedUser();
            if (!usuarioLogado) {
                console.log('üë§ Criando usu√°rio de teste...');
                usuarioLogado = {
                    id: Date.now(),
                    nome: 'Usu√°rio Teste',
                    email: 'teste@teste.com',
                    fotoPerfil: null,
                    dataLogin: new Date().toISOString()
                };
                localStorage.setItem('usuarioLogado', JSON.stringify(usuarioLogado));
            }
            
            console.log('üë§ Usu√°rio logado:', usuarioLogado);
            
            // Atualizar interface com dados do usu√°rio
            if (usuarioLogado) {
                console.log('üìù Atualizando interface com dados do usu√°rio...');
                // Aguardar um pouco para garantir que todos os elementos estejam carregados
                setTimeout(() => {
                    atualizarFotoHeader();
                }, 100);
                
                // Verificar se os elementos existem
                const headerIcon = document.getElementById('header-perfil-icon');
                console.log('üñºÔ∏è Header icon encontrado:', !!headerIcon);
                if (headerIcon) {
                    console.log('üì∏ Foto atual do header:', headerIcon.src);
                    console.log('üíæ Foto salva do usu√°rio:', usuarioLogado.fotoPerfil);
                }
            }
            
            // Inicializa os modais ao carregar a p√°gina
            // Modal Menu
            document.querySelector('.header-item.menu').addEventListener('click', function() {
                document.getElementById('menu-modal-bg').style.display = 'block';
            });
            document.getElementById('menu-modal-bg').addEventListener('click', function(e) {
                if (e.target.id === 'menu-modal-bg') {
                    this.style.display = 'none';
                }
            });

            // Modal Perfil
            document.getElementById('perfil-btn').addEventListener('click', showPerfilModal);
            document.getElementById('perfil-modal-bg').addEventListener('click', hidePerfilModal);
            
            // Foto em tela cheia
            document.getElementById('perfil-img').addEventListener('click', function() {
                const src = this.src;
                const fullscreenBg = document.getElementById('foto-fullscreen-bg');
                const fullscreenImg = document.getElementById('foto-fullscreen-img');
                fullscreenImg.src = src;
                fullscreenBg.style.display = 'flex';
            });
            
            document.getElementById('foto-fullscreen-bg').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    document.getElementById('foto-fullscreen-img').src = '';
                }
            });
        });
    </script>
</head>

<body>
    <header class="header">
        <img src="img/logo.png" alt="Logo Trainew IA" class="logo">
        <nav class="header-nav">
            <div class="header-item menu">
                <span class="menu-icon">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </span>
                <span class="item-label">Menu</span>
            </div>
            <div onclick="window.location.href='chat.html'" class="header-item chat">
                <img src="img/icon-ia.png" class="chat-icon">
                <span class="item-label">Chat IA</span>
            </div>
            <div class="header-item perfil" id="perfil-btn">
                <img src="img/icon.png" class="perfil-icon" id="header-perfil-icon">
                <span class="item-label">Perfil</span>
            </div>
        </nav>
    </header>
<!-- ...existing code... (cole este bloco logo ap√≥s o header) ... -->
<!-- Modal Planos (demostra√ß√£o) -->
<div id="planos-modal-bg" class="planos-modal-bg" style="display:none;">
  <div class="planos-modal" role="dialog" aria-labelledby="planos-title" aria-modal="true">
    <button id="planos-close" class="planos-close" aria-label="Fechar">‚úï</button>

    <h2 id="planos-title" class="planos-title">Planos</h2>

    <div class="planos-prices">
      <label class="plano-option">
        <input type="radio" name="duracao" value="12" checked>
        <div class="plano-info">
          <div class="plano-valor">R$ 17,40<span class="per">/m√™s</span></div>
          <div class="plano-sub">12 meses <span class="badge">economize 70%</span></div>
        </div>
      </label>

      <label class="plano-option">
        <input type="radio" name="duracao" value="1">
        <div class="plano-info">
          <div class="plano-valor">R$ 24,90<span class="per">/m√™s</span></div>
          <div class="plano-sub">1 m√™s</div>
        </div>
      </label>
    </div>

    <h3 class="vantagens-title">Vantagens</h3>
    <ul class="vantagens-list">
      <li>‚úî Treinos personalizados com IA (2-6 dias/semana)</li>
      <li>‚úî Chat de Treinos para editar e trocar exerc√≠cios</li>
      <li>‚úî Exerc√≠cios de academia e casa</li>
      <li>‚úî Se√ß√£o exclusiva de cardio separada</li>
      <li>‚úî Dietas personalizadas ilimitadas</li>
      <li>‚úî Conversa com a IA sem limites</li>
      <li>‚úî Acompanhamento de cargas e progress√£o</li>
      <li>‚úî Instru√ß√µes detalhadas para cada exerc√≠cio</li>
      <li>‚úî Suporte a treinos para iniciantes e avan√ßados</li>
    </ul>

    <div class="metodo-pgto">
      <label><input type="radio" name="metodo" value="pix" checked> PIX</label>
      <label><input type="radio" name="metodo" value="cartao"> Cart√£o</label>
    </div>

    <div class="planos-actions">
      <button id="planos-pagar" class="btn-pagar">Pagar</button>
    </div>
  </div>
</div>
<!-- ...existing code... -->


    <div class="carousel-container">
        <button class="arrow arrow-left" id="prevBtn">‚Äπ</button>

        <div class="cards-container">
            <div onclick="window.location.href='chat.html'" class="card">
                <img src="img/icon-ia.png" alt="Chat IA">
                <span class="card-label">Chat IA</span>
            </div>
            <div onclick="window.location.href='dieta.html'" class="card">
                <img src="img/dieta.png" alt="Dieta">
                <span class="card-label">Dieta</span>
            </div>
            <div onclick="window.location.href='treino.html'" class="card">
                <img src="img/treino.png" alt="Treinos">
                <span class="card-label">Treinos</span>
            </div>
            <div onclick="window.location.href='alimentacao.html'" class="card">
                <img src="img/comida-e-restaurante.png" alt="Alimenta√ß√£o" class="theme-image" data-light="img/comida-e-restaurante.png" data-dark="img/comida-e-restaurante (bt).png">
                <span class="card-label">Alimenta√ß√£o</span>
            </div>
            <div onclick="window.location.href='playlists.html'" class="card">
                <img src="img/Playlists.png" alt="Playlists" class="theme-image" data-light="img/Playlists.png" data-dark="img/Playlists(bt).png">
                <span class="card-label">Playlists</span>
            </div>
            <div onclick="window.location.href='avaliacao.html'" class="card">
                <img src="img/execucao.png" alt="Execu√ß√£o" class="theme-image" data-light="img/execucao.png" data-dark="img/execucao(bt).png">
                <span class="card-label">Execu√ß√£o</span>
            </div>
        </div>

        <button class="arrow arrow-right" id="nextBtn">‚Ä∫</button>
    </div>

    <img class="faixa" src="img/faixa.jpg" alt="">

    <!-- Modal Perfil -->
    <div class="perfil-modal-bg" id="perfil-modal-bg" style="display:none;">
        <div class="perfil-modal" id="perfil-modal">
            <div class="perfil-modal-header">Conta</div>
            <div class="perfil-modal-user">
                <span class="perfil-modal-user-icon" id="perfil-user-icon">
                    <img src="img/icon.png" alt="Perfil" id="perfil-img" style="cursor:pointer;">
                </span>
                <div class="perfil-modal-user-info">
                    <span class="perfil-modal-user-nome" id="perfil-nome"></span>
                    <span class="perfil-modal-user-email" id="perfil-email"></span>
                </div>
            </div>
            <hr class="perfil-modal-divider">
            <div class="perfil-modal-list">
                <div class="perfil-modal-item" id="alterar-foto-btn">Alterar foto de perfil
                    <input type="file" id="foto-input" accept="image/*" style="display:none;">
                </div>
                <div class="perfil-modal-item" id="alterar-nome-btn">Alterar nome</div>
                <div class="perfil-modal-item" onclick="window.location.href='config.html'">Configura√ß√µes</div>
                <div class="perfil-modal-item" onclick="window.location.href='ajuda.html'">Ajuda</div>
                <div class="perfil-modal-item" id="sair-btn" style="color:#c00;font-weight:600;">Sair</div>
            </div>
        </div>
    </div>

    <!-- Overlay para foto em tela cheia -->
    <div id="foto-fullscreen-bg"
        style="display:none;position:fixed;z-index:2000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.85);justify-content:center;align-items:center;">
        <img id="foto-fullscreen-img" src="" alt="Foto perfil"
            style="max-width:90vw;max-height:90vh;border-radius:12px;box-shadow:0 4px 32px #000;">
    </div>

    <!-- Modal Menu Lateral -->
    <div class="menu-modal-bg" id="menu-modal-bg" style="display:none;">
        <div class="menu-modal" id="menu-modal">
            <div class="menu-modal-header">
                <span>Menu</span>
            </div>
            <hr class="menu-modal-divider">
            <div class="menu-modal-list">
                <div onclick="window.location.href='chat.html'" class="menu-modal-item">Chat IA</div>
                <div onclick="window.location.href='treino.html'" class="menu-modal-item">Treinos</div>
                <div onclick="window.location.href='dieta.html'" class="menu-modal-item">Dieta</div>
                <div onclick="window.location.href='alimentacao.html'" class="menu-modal-item">Alimenta√ß√£o</div>
                <div onclick="window.location.href='playlists.html'" class="menu-modal-item">Playlists</div>
                <div onclick="window.location.href='avaliacao.html'" class="menu-modal-item">Execu√ß√£o</div>
                <div onclick="window.location.href='sobre.html'" class="menu-modal-item">Sobre n√≥s</div>
            </div>
        </div>
    </div>


    <section class="faixa-section" aria-label="informativa">
        <div class="faixa-inner">
            <div class="faixa-text">
                Nosso aplicativo de treino e dieta oferece uma alternativa pr√°tica e econ√¥mica para quem quer manter uma
                rotina saud√°vel. Com planos personalizados, sugest√µes de refei√ß√µes e acompanhamento de resultados, voc√™
                consegue organizar seus treinos e alimenta√ß√£o sem precisar gastar com nutricionistas ou personal
                trainers caros. Tudo de forma simples, eficiente e acess√≠vel!
            </div>
            <div class="faixa-mascot" aria-hidden="true">
                <img src="img/cora√ß√£o-mascote.png" alt="Mascote cora√ß√£o segurando peso">
            </div>
        </div>
    </section>


    <footer class="footer">
        <hr class="footer-line">
    </footer>
    <script>
        // Inicializa o gerenciador de tema
        ThemeManager.init();

        // Utilit√°rio para atualizar localStorage e sess√£o
        function atualizarUsuarioLogado(novosDados) {
            console.log('üíæ Atualizando dados do usu√°rio:', novosDados);
            AuthManager.updateLoggedUser(novosDados);
        }

        // Atualiza a foto do header com a foto do usu√°rio logado
        function atualizarFotoHeader() {
            console.log('üîÑ Executando atualizarFotoHeader...');
            
            // Aguardar at√© o elemento estar dispon√≠vel
            const headerIcon = document.getElementById('header-perfil-icon');
            if (!headerIcon) {
                console.log('‚è≥ Elemento header-perfil-icon n√£o encontrado, tentando novamente...');
                setTimeout(atualizarFotoHeader, 100);
                return;
            }
            
            const usuario = AuthManager.getLoggedUser();
            console.log('üë§ Usu√°rio obtido:', usuario);
            console.log('üéØ Elemento header-perfil-icon:', headerIcon);
            
            if (usuario && usuario.fotoPerfil) {
                console.log('üì∏ Definindo foto personalizada:', usuario.fotoPerfil.substring(0, 50) + '...');
                headerIcon.src = usuario.fotoPerfil;
            } else {
                console.log('üñºÔ∏è Usando foto padr√£o: img/icon.png');
                headerIcon.src = "img/icon.png";
            }
            
            console.log('‚úÖ Foto do header atualizada para:', headerIcon.src.substring(0, 50) + '...');
        }

        // Chame ao abrir a p√°gina - movido para dentro do DOMContentLoaded
        // atualizarFotoHeader(); // REMOVIDO DAQUI

        // Modal Perfil
        function showPerfilModal() {
            console.log('üìã Abrindo modal do perfil...');
            const usuario = AuthManager.getLoggedUser();
            console.log('üë§ Dados do usu√°rio para modal:', usuario);
            
            document.getElementById('perfil-nome').textContent = usuario ? usuario.nome || '' : '';
            document.getElementById('perfil-email').textContent = usuario ? usuario.email || '' : '';
            
            console.log('üìù Nome definido:', usuario ? usuario.nome : 'nenhum');
            console.log('üìß Email definido:', usuario ? usuario.email : 'nenhum');
            
            // Foto de perfil
            const img = document.getElementById('perfil-img');
            if (usuario && usuario.fotoPerfil) {
                console.log('üì∏ Definindo foto do modal:', usuario.fotoPerfil.substring(0, 50) + '...');
                img.src = usuario.fotoPerfil;
            } else {
                console.log('üñºÔ∏è Usando foto padr√£o no modal');
                img.src = "img/icon.png";
            }
            
            document.getElementById('perfil-modal-bg').style.display = 'block';
        }
        function hidePerfilModal(e) {
            if (e.target.id === 'perfil-modal-bg') {
                document.getElementById('perfil-modal-bg').style.display = 'none';
                removerInputNome();
            }
        }
        document.getElementById('perfil-btn').addEventListener('click', showPerfilModal);
        document.getElementById('perfil-modal-bg').addEventListener('click', hidePerfilModal);

        // Alterar foto de perfil
        document.getElementById('alterar-foto-btn').addEventListener('click', function () {
            document.getElementById('foto-input').click();
        });
        document.getElementById('foto-input').addEventListener('change', function (e) {
            console.log('üìÅ Arquivo selecionado para upload...');
            const file = e.target.files[0];
            if (!file) {
                console.log('‚ùå Nenhum arquivo selecionado');
                return;
            }
            
            console.log('üìÑ Arquivo:', file.name, file.size, 'bytes');
            
            const reader = new FileReader();
            reader.onload = function (evt) {
                const fotoBase64 = evt.target.result;
                console.log('‚úÖ Arquivo convertido para Base64:', fotoBase64.substring(0, 100) + '...');
                
                // Atualiza a imagem do modal imediatamente
                document.getElementById('perfil-img').src = fotoBase64;
                console.log('üñºÔ∏è Foto do modal atualizada');
                
                // Salva no localStorage
                atualizarUsuarioLogado({ fotoPerfil: fotoBase64 });
                console.log('üíæ Foto salva no localStorage');
                
                // Atualiza a imagem do header tamb√©m
                atualizarFotoHeader();
                console.log('üîÑ Header atualizado');
            };
            reader.readAsDataURL(file);
        });

        // Alterar nome
        function removerInputNome() {
            const nomeSpan = document.getElementById('perfil-nome');
            if (nomeSpan.querySelector('input')) {
                const usuario = AuthManager.getLoggedUser();
                nomeSpan.textContent = usuario ? usuario.nome || '' : '';
            }
        }
        document.getElementById('alterar-nome-btn').addEventListener('click', function () {
            const nomeSpan = document.getElementById('perfil-nome');
            if (nomeSpan.querySelector('input')) return; // j√° est√° editando
            const usuario = AuthManager.getLoggedUser();
            const input = document.createElement('input');
            input.type = 'text';
            input.value = usuario ? usuario.nome || '' : '';
            input.style.fontSize = '15px';
            input.style.fontWeight = '600';
            input.style.borderRadius = '4px';
            input.style.padding = '2px 6px';
            input.style.width = '90%';
            input.maxLength = 32;
            
            // Aplica estilos baseados no tema atual
            applyThemeInputStyles(input);
            
            nomeSpan.textContent = '';
            nomeSpan.appendChild(input);
            input.focus();
            input.select();

            input.addEventListener('keydown', function (ev) {
                if (ev.key === 'Enter') {
                    ev.preventDefault();
                    salvarNome();
                } else if (ev.key === 'Escape') {
                    removerInputNome();
                }
            });
            input.addEventListener('blur', salvarNome);

            function salvarNome() {
                let novoNome = input.value.trim();
                if (!novoNome) novoNome = usuario ? usuario.nome || '' : '';
                atualizarUsuarioLogado({ nome: novoNome });
                nomeSpan.textContent = novoNome;
            }
        });

        // Abrir foto em tela cheia ao clicar na imagem do modal
        document.getElementById('perfil-img').addEventListener('click', function () {
            const src = this.src;
            const fullscreenBg = document.getElementById('foto-fullscreen-bg');
            const fullscreenImg = document.getElementById('foto-fullscreen-img');
            fullscreenImg.src = src;
            fullscreenImg.classList.remove('show'); // reset
            fullscreenBg.style.display = 'flex';
            // For√ßa reflow para reiniciar anima√ß√£o
            void fullscreenImg.offsetWidth;
            fullscreenImg.classList.add('show');
        });
        // Fechar ao clicar fora da imagem
        document.getElementById('foto-fullscreen-bg').addEventListener('click', function (e) {
            if (e.target === this) {
                this.style.display = 'none';
                document.getElementById('foto-fullscreen-img').src = '';
                document.getElementById('foto-fullscreen-img').classList.remove('show');
            }
        });

        // Sair da conta (mant√©m o perfil salvo no localStorage)
        document.getElementById('sair-btn').addEventListener('click', function () {
            AuthManager.logout();
        });

        // Modal Menu Lateral
        document.querySelector('.header-item.menu').addEventListener('click', function () {
            document.getElementById('menu-modal-bg').style.display = 'block';
        });
        document.getElementById('menu-modal-bg').addEventListener('click', function (e) {
            if (e.target.id === 'menu-modal-bg') {
                this.style.display = 'none';
            }
        });
    </script>

    <script>
        const cardsContainer = document.querySelector('.cards-container');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const cards = document.querySelectorAll('.card');

        let currentSlide = 0;

        function getCardsPerView() {
            return window.innerWidth <= 768 ? 2 : 3;
        }

        function updateCarousel() {
            const cardsPerView = getCardsPerView();
            const maxSlide = cards.length - cardsPerView;
            if (currentSlide < 0) currentSlide = 0;
            if (currentSlide > maxSlide) currentSlide = maxSlide;

            // Cada card ocupa 100/cardsPerView % do container
            const percent = -(100 / cardsPerView) * currentSlide;
            cardsContainer.style.transform = `translateX(${percent}%)`;

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === maxSlide;
        }

        nextBtn.addEventListener('click', () => {
            currentSlide++;
            updateCarousel();
        });

        prevBtn.addEventListener('click', () => {
            currentSlide--;
            updateCarousel();
        });

        // Suporte a Touch/Swipe para mobile com drag cont√≠nuo
        let touchStartX = 0;
        let touchEndX = 0;
        let touchStartY = 0;
        let touchEndY = 0;
        let isDragging = false;
        let startTranslate = 0;
        let currentTranslate = 0;

        cardsContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
            isDragging = true;
            
            // Captura a posi√ß√£o atual do translate
            const cardsPerView = getCardsPerView();
            startTranslate = -(100 / cardsPerView) * currentSlide;
            
            cardsContainer.style.transition = 'none';
        }, { passive: true });

        cardsContainer.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            
            const touchCurrentX = e.changedTouches[0].screenX;
            const diff = touchCurrentX - touchStartX;
            const containerWidth = cardsContainer.offsetWidth;
            const percentDiff = (diff / containerWidth) * 100;
            
            currentTranslate = startTranslate + percentDiff;
            cardsContainer.style.transform = `translateX(${currentTranslate}%)`;
        }, { passive: true });

        cardsContainer.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            
            touchEndX = e.changedTouches[0].screenX;
            touchEndY = e.changedTouches[0].screenY;
            
            cardsContainer.style.transition = 'transform 0.3s ease';
            handleSwipe();
        }, { passive: true });

        function handleSwipe() {
            const swipeThreshold = 50; // M√≠nimo de pixels para considerar um swipe
            const horizontalDiff = Math.abs(touchEndX - touchStartX);
            const verticalDiff = Math.abs(touchEndY - touchStartY);
            
            // S√≥ considera swipe horizontal se o movimento horizontal for maior que o vertical
            if (horizontalDiff > verticalDiff && horizontalDiff > swipeThreshold) {
                if (touchEndX < touchStartX) {
                    // Swipe para esquerda - pr√≥ximo
                    currentSlide++;
                } else if (touchEndX > touchStartX) {
                    // Swipe para direita - anterior
                    currentSlide--;
                }
            }
            updateCarousel();
        }

        window.addEventListener('resize', () => {
            // Garante que o slide n√£o fique fora do limite ao redimensionar
            const cardsPerView = getCardsPerView();
            const maxSlide = cards.length - cardsPerView;
            if (currentSlide > maxSlide) currentSlide = maxSlide;
            updateCarousel();
        });

        updateCarousel();
    </script>

<script>
  (function () {
    const modalBg = document.getElementById('planos-modal-bg');
    const closeBtn = document.getElementById('planos-close');
    const pagarBtn = document.getElementById('planos-pagar');

    // Chave localStorage
    const KEY_PAGO = 'planoPago'; // 'true' quando pago
    const KEY_SELEC = 'planoSelecionado'; // armazena escolha (duracao/metodo)

    // mostrar modal se n√£o pago
    function abrirSeNecessario() {
      try {
        const pago = localStorage.getItem(KEY_PAGO) === 'true';
        if (!pago) {
          // breve timeout para evitar conflito com outros scripts de carregamento
          setTimeout(() => {
            modalBg.style.display = 'flex';
            // opcional: anima√ß√£o de entrada
            modalBg.querySelector('.planos-modal').classList?.add('entrar');
          }, 220);
        }
      } catch (e) {
        console.error('Erro localStorage', e);
        modalBg.style.display = 'flex';
      }
    }

    // fechar sem persistir (voltar√° ao recarregar)
    closeBtn.addEventListener('click', () => {
      modalBg.style.display = 'none';
    });

    // "Pagar" - demonstra√ß√£o: salva escolha e marca como pago
    pagarBtn.addEventListener('click', () => {
      const dur = document.querySelector('input[name="duracao"]:checked')?.value || null;
      const metodo = document.querySelector('input[name="metodo"]:checked')?.value || null;
      const payload = {
        duracaoMeses: dur,
        metodo,
        timestamp: new Date().toISOString()
      };
      try {
        localStorage.setItem(KEY_PAGO, 'true');
        localStorage.setItem(KEY_SELEC, JSON.stringify(payload));
      } catch (e) {
        console.error('Erro salvando plano no localStorage', e);
      }
      // fecha e n√£o reaparece nas pr√≥ximas visitas
      modalBg.style.display = 'none';
    });

    // fecha tamb√©m ao clicar no fundo fora do modal
    modalBg.addEventListener('click', (e) => {
      if (e.target === modalBg) {
        modalBg.style.display = 'none';
      }
    });

    // abre ao carregar a p√°gina
    window.addEventListener('load', abrirSeNecessario);
  })();



     
</script>






</body>

</html>